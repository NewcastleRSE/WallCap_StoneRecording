<html>
<head>
    <link rel="stylesheet" href="site.css"></head>
    <script src="http://code.jquery.com/jquery-3.5.1.js"></script>
<body>
    <div id="map-popup" style="background: white">
        <map name="workmap">
<img src="Forts_on_Wall_small.jpg" usemap="#Forts_on_Wall_small" alt="" style="border-style:none" />

<map id="Forts_on_Wall_small" name="Forts_on_Wall_small">
<area shape="circle" coords="42,193,3" onclick="alert('drumburg')" title="" />
<area shape="circle" coords="7,168,3" onclick="alert('bowness')" title="" />
<area shape="circle" coords="96,199,3" onclick="alert('burgh')" title="" />
<area shape="circle" coords="152,217,3" onclick="alert('stanwix')" title="" />
<area shape="circle" coords="153,227,3" onclick="alert('carlisle')" title="" />
<area shape="circle" coords="244,162,4" onclick="alert('castlesteads')" title="" />
<area shape="circle" coords="240,176,3" onclick="alert('old_chruc')" title="" />
<area shape="circle" coords="279,169,4" onclick="alert('bioothby')" title="" />
<area shape="circle" coords="318,155,4" onclick="alert('nether')" title="" />
<area shape="circle" coords="336,138,4" onclick="alert('birdoswald')" title="" />
<area shape="circle" coords="368,139,3" onclick="alert('carvoran')" title="" />
<area shape="circle" coords="410,133,4" onclick="alert('great_chesters')" title="" />
<area shape="circle" coords="462,137,3" onclick="alert('vindolanda')" title="" />
<area shape="circle" coords="479,117,3" onclick="alert('housesteads')" title="" />
<area shape="circle" coords="542,95,4" onclick="alert('carrawburgh')" title="" />
<area shape="circle" coords="584,105,4" onclick="alert('chesters')" title="" />
<area shape="circle" coords="643,150,4" onclick="alert('corbridge')" title="" />
<area shape="circle" coords="654,120,3" onclick="alert('halton_chesters')" title="" />
<area shape="circle" coords="752,127,4" onclick="alert('rudchester')" title="" />
<area shape="circle" coords="837,150,3" onclick="alert('benwell')" title="" />
<area shape="circle" coords="861,158,4" onclick="alert('newcastle')" title="" />
<area shape="circle" coords="911,143,3" onclick="alert('wallsend')')" title="" />
<area shape="default" nohref="nohref" alt="" />
</map>
        </map> 
    </div>
    <form id="record-form" action="/submitstone" method="post">
        <label for="site-no">Site no.</label>
            <input id="site-no" type="text" value="" name="site_no"/>
            <label for="site-name">Site Name</label>
            <input id="site-name" type="text" value="" name="site_name"/>
            <label for="county-select">County</label>
            <select id="county-select" name="county">
                <option value="cumbria">Cumbria</option>
                <option value="newcastle">Newcastle</option>
                <option value="northumberland">Northumberland</option>
            </select>
            <label for="parish">Parish</label>
            <input id="parish" type=text value="" name="parish"/>
            <label for="os-ngr">OS NGR</label>
            <input id="os-ngr" type="text" value="" name="os_ngr">
            <label for="monument-no">Monument No</label>
            <input id="monument-no" type="text" value="" name="monument_no">
            <label for="building-no">Building no</label>
            <input id="building-no" type="text" value="" name="building_no">
            <br/>
            <label for="wall-mile">Wall Mile</label>
            <input id="wall-mile" type=text value="" name="wall_mile"/>
            <label for="surveyors">Surveyors</label>
            <input id="surveyors" type="text" value="" name="surveyors">
            <label for="checked-by">Checked By</label>
            <input id="checked-by" type="text" value="" name="checked_by">
            <label for="date-of-structure">Date of Structure</label>
            <input id="date-of-structure" type="text" value="" name="date_of_structure">
            <label for="her-no">HER No</label>
            <input id="her-no" type=text value="" name="her_no"/>
            <label for="nmr-no">NMR No</label>
            <input id="nmr-no" type="text" value="" name="nmr_no">
            <label for="monument-no">Monument No</label>
            <input id="monument-no" type="text" value="" name="monument_no">
            <br/>
            <input type="submit" value="Submit"/>
            <br>
            <pre class="response-text"></pre>
    </form>
    
    <form id="form2">
        <div class="div-table map-button-container">
            <div class="div-table-row">
                <div class="div-table-col" style="column-span: 2" align="center">Structure types</div>
                <div class="div-table-col" align="center">Structural elements</div>
                <div class="div-table-col" align="center">&nbsp;</div>
            </div>
            <div class="div-table-row">
                <div class="div-table-col" align="center"><img src="images/buttons/Fort_button.jpg"></div>
                <div class="div-table-col" align="center"><img src="images/buttons/Church_button.jpg"></div>
                <div class="div-table-col" align="center"><img src="images/buttons/Foundation_button.jpg"/></div>
                <div class="div-table-col" align="center"><img src="images/buttons/Voussoirs_button.jpg"></div>
            </div>
            <div class="div-table-row">
                <div class="div-table-col" align="center"><img src="images/buttons/Milecastle_button.jpg"></div>
                <div class="div-table-col" align="center"><img src="images/buttons/Castle_button.jpg"></div>
                <div class="div-table-col" align="center"><img src="images/buttons/Footing_button.jpg"></div>
                <div class="div-table-col" align="center"><img src="images/buttons/window_head_button.jpg"></div>
             </div>
            <div class="div-table-row">
                <div class="div-table-col" align="center"><img src="images/buttons/Turret_button.jpg"></div>
                <div class="div-table-col" align="center"><img src="images/buttons/Dwelling_button.jpg"></div>
                <div class="div-table-col" align="center"><img src="images/buttons/Offset_button.jpg"></div>
                <div class="div-table-col" align="center"><img src="images/buttons/door_lining_button.jpg"></div>
            </div>
            <div class="div-table-row">
                <div class="div-table-col" align="center"><img src="images/buttons/Gateway_button.jpg"></div>
                <div class="div-table-col" align="center"><img src="images/buttons/Outbuilding_button.jpg"></div>
                <div class="div-table-col" align="center"><img src="images/buttons/Ashlar_button.jpg"></div>
                <div class="div-table-col" align="center"><img src="images/buttons/columns_button.jpg"></div>
            </div>
            <div class="div-table-row">
                <div class="div-table-col" align="center"><img src="images/buttons/Curtain_button.jpg"></div>
                <div class="div-table-col" align="center"><img src="images/buttons/Boundary_button.jpg"></div>
                <div class="div-table-col" align="center"><img src="images/buttons/Block_Course_button.jpg"></div>
                <div class="div-table-col" align="center"><img src="images/buttons/Housesteads_capital_button.jpg"></div>
            </div>
            <div class="div-table-row">
                <div class="div-table-col" align="center">&nbsp;</div>
                <div class="div-table-col" align="center">&nbsp;</div>
                <div class="div-table-col" align="center"><img src="images/buttons/Squared_rubble_button.jpg"></div>
                <div class="div-table-col" align="center"><img src="images/buttons/String_course_button.jpg"></div>
            </div>
            <div class="div-table-row">
                <div class="div-table-col" align="center">&nbsp;</div>
                <div class="div-table-col" align="center">&nbsp;</div>
                <div class="div-table-col" align="center"><img src="images/buttons/Coursed_rubble_button.jpg"></div>
                <div class="div-table-col" align="center"><img src="images/buttons/Channel_button.jpg"></div>
            </div>
        </div>
    </form>
 
    <script>
        function mapButtonClicked(btn) {
            $.ajax({
                url: "/maps", 
                type: "POST",
                dataType: "json",
                success: function (response) {
                    console.log(response);
                    popup = $("#map-popup");
                    popup.find("img").attr("src", response.img);
                    popup.show();
                },
                error: function (response) {

                }
            });
        }

        $(document).ready(function() {
            $("body").find(".map-button-container").each(function (index, container) {
                $(container).find("img").each(function (index, btn) {
                    $(btn).on("click", function () {
                        mapButtonClicked($(btn));
                    });
                });
            });

            $(window).click(function (e) {
                target = $(e.target);
                if (target.attr("id") !== "map-popup" && !target.parents().parents().hasClass("map-button-container")) {
                    $("#map-popup").hide();
                }
            });
        });
    </script>
</body>
</html>